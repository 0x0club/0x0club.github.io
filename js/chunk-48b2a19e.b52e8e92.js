(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-48b2a19e"],{1148:function(e,t,a){"use strict";var r=a("da84"),n=a("5926"),i=a("577e"),o=a("1d80"),c=r.RangeError;e.exports=function(e){var t=i(o(this)),a="",r=n(e);if(r<0||r==1/0)throw c("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(a+=t);return a}},"408a":function(e,t,a){var r=a("e330");e.exports=r(1..valueOf)},b680:function(e,t,a){"use strict";var r=a("23e7"),n=a("da84"),i=a("e330"),o=a("5926"),c=a("408a"),l=a("1148"),u=a("d039"),d=n.RangeError,s=n.String,p=Math.floor,h=i(l),b=i("".slice),f=i(1..toFixed),g=function(e,t,a){return 0===t?a:t%2===1?g(e,t-1,a*e):g(e*e,t/2,a)},w=function(e){var t=0,a=e;while(a>=4096)t+=12,a/=4096;while(a>=2)t+=1,a/=2;return t},x=function(e,t,a){var r=-1,n=a;while(++r<6)n+=t*e[r],e[r]=n%1e7,n=p(n/1e7)},v=function(e,t){var a=6,r=0;while(--a>=0)r+=e[a],e[a]=p(r/t),r=r%t*1e7},y=function(e){var t=6,a="";while(--t>=0)if(""!==a||0===t||0!==e[t]){var r=s(e[t]);a=""===a?r:a+h("0",7-r.length)+r}return a},m=u((function(){return"0.000"!==f(8e-5,3)||"1"!==f(.9,0)||"1.25"!==f(1.255,2)||"1000000000000000128"!==f(0xde0b6b3a7640080,0)}))||!u((function(){f({})}));r({target:"Number",proto:!0,forced:m},{toFixed:function(e){var t,a,r,n,i=c(this),l=o(e),u=[0,0,0,0,0,0],p="",f="0";if(l<0||l>20)throw d("Incorrect fraction digits");if(i!=i)return"NaN";if(i<=-1e21||i>=1e21)return s(i);if(i<0&&(p="-",i=-i),i>1e-21)if(t=w(i*g(2,69,1))-69,a=t<0?i*g(2,-t,1):i/g(2,t,1),a*=4503599627370496,t=52-t,t>0){x(u,0,a),r=l;while(r>=7)x(u,1e7,0),r-=7;x(u,g(10,r,1),0),r=t-1;while(r>=23)v(u,1<<23),r-=23;v(u,1<<r),x(u,1,1),v(u,2),f=y(u)}else x(u,0,a),x(u,1<<-t,0),f=y(u)+h("0",l);return l>0?(n=f.length,f=p+(n<=l?"0."+h("0",l-n)+f:b(f,0,n-l)+"."+b(f,n-l))):f=p+f,f}})},e5be:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("base-layout",[a("div",{staticClass:"content text-center"},[a("h2",{staticClass:"my-30px"},[e._v("卡片市场价值估算:")]),a("p",[e._v(" 当前 "),a("strong",[e._v(" 1bnx = "+e._s(e.goldRatio)+" gold ")])]),a("div",[a("a-input-search",{staticStyle:{width:"500px"},attrs:{placeholder:"输入 token_id","enter-button":"价值估算",size:"large"},on:{search:e.calValueFromTokenId},model:{value:e.tokenId,callback:function(t){e.tokenId=t},expression:"tokenId"}})],1),a("br"),a("props-table",{attrs:{loading:e.loading,"data-source":e.propsDataSource}}),a("br"),a("price-table",{attrs:{loading:e.priceLoading,"data-source":e.priceDataSource}})],1)])},n=[],i=a("1da1"),o=(a("b680"),a("96cf"),a("9c9e")),c=a("db49"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-table",{attrs:{bordered:"",loading:e.loading,columns:e.tableColumns,"data-source":e.dataSourceWithKey,scroll:{x:!0},pagination:!1}})},u=[],d=a("5530"),s=(a("d81d"),a("ed08")),p={props:{dataSource:{type:Array,required:!0},loading:{type:Boolean,default:!0}},computed:{tableColumns:function(){return[{title:"卡片类型",width:90,dataIndex:"cardType"},{title:"等级",width:90,dataIndex:"level"},{title:"职业",width:90,dataIndex:"career"},{title:"力量",width:90,dataIndex:"strength"},{title:"敏捷",width:90,dataIndex:"agility"},{title:"体质",width:90,dataIndex:"physique"},{title:"意志",width:90,dataIndex:"volition"},{title:"智力",width:90,dataIndex:"brains"},{title:"精神",width:90,dataIndex:"charm"},{title:"每区块收益",width:90,dataIndex:"valPerBlock"},{title:"每天收益",width:90,dataIndex:"valPerDay"}]},dataSourceWithKey:function(){return this.dataSource.map((function(e){return Object(d["a"])(Object(d["a"])({},e),{},{key:Object(s["a"])()})}))}}},h=p,b=a("2877"),f=Object(b["a"])(h,l,u,!1,null,null,null),g=f.exports,w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-table",{attrs:{bordered:"",loading:e.loading,columns:e.tableColumns,"data-source":e.dataSourceWithKey,scroll:{x:!0},pagination:!1}})},x=[],v={props:{dataSource:{type:Array,required:!0},loading:{type:Boolean,default:!0}},computed:{tableColumns:function(){return[{title:"回本天数",width:90,dataIndex:"day"},{title:"售价",width:90,dataIndex:"price"},{title:"每日收益",width:90,dataIndex:"valPerDay"}]},dataSourceWithKey:function(){return this.dataSource.map((function(e){return Object(d["a"])(Object(d["a"])({},e),{},{key:Object(s["a"])()})}))}}},y=v,m=Object(b["a"])(y,w,x,!1,null,null,null),k=m.exports,I=28800,S={name:"MarketModel",mixins:[o["a"]],components:{PropsTable:g,PriceTable:k},data:function(){return{goldRatio:0,tokenId:"",loading:!1,startDay:29,endDay:39,priceLoading:!1,propsDataSource:[],priceDataSource:[]}},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.initWeb3Account();case 2:if(e.account){t.next=4;break}return t.abrupt("return");case 4:return e.initContract(),t.next=7,e.getGoldBnxRatio();case 7:case"end":return t.stop()}}),t)})))()},methods:{calValueFromTokenId:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r,n,i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e){a.next=2;break}return a.abrupt("return");case 2:return t.loading=!0,a.next=5,t.playContract.methods.getPlayerInfoBySet(e).call();case 5:r=a.sent,t.loading=!1,r&&(n={strength:r[0][0],agility:r[0][1],physique:r[0][2],volition:r[0][3],brains:r[0][4],charm:r[0][5],level:r[0][6],career:Object(s["b"])(r[1])},i=t.calValPerBlock(n),o=i*I,n.valPerBlock="".concat(i.toFixed(4)," gold"),n.valPerDay="".concat(o.toFixed(2)," gold"),n.cardType=t.getCardType(n),console.log(t.getCardType(n)),t.propsDataSource=[],t.propsDataSource.push(n),t.priceLoading=!0,t.priceDataSource=t.calPriceInDays(o),t.priceLoading=!1);case 8:case"end":return a.stop()}}),a)})))()},getCardType:function(e){var t=e.strength,a=e.agility,r=e.physique,n=e.brains,i=e.charm,o=e.career,c=[];switch(o){case"法师":c=[n,i];break;case"战士":c=[t,r];break;case"游侠":c=[t,a];break;case"盗贼":c=[a,t];break}return c[0]>=86&&c[1]>=61?"矿卡":"黑卡"},calPriceInDays:function(e){for(var t=[],a=this.startDay;a<=this.endDay;a++)t.push({day:a,price:"".concat((a*e/this.goldRatio).toFixed(2)," bnx"),valPerDay:"".concat(e.toFixed(4)," gold")});return t},calValPerBlock:function(e){var t=e.strength,a=e.agility,r=e.physique,n=e.brains,i=e.charm,o=e.level,c=e.career,l="",u=[];switch(c){case"法师":l=n,u=[n,i];break;case"战士":l=t,u=[t,r];break;case"游侠":l=t,u=[t,a];break;case"盗贼":l=a,u=[a,t];break}return o>1&&u[0]>=86&&u[1]>=61?this.calVal(l,o):this.calVal(85,o)},calVal:function(e,t){var a=.01,r=.005*(e-85);return t>1?(a+r)*Math.pow(2,t-1):a},getGoldBnxRatio:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=new e.web3.utils.BN("10000000000000000000"),t.next=3,e.pancakeContract.methods.getAmountsOut(a,[c["a"].bnxContrAddr,c["a"].busdContrAddr,c["a"].goldContrAddr]).call();case 3:r=t.sent,n=new e.web3.utils.BN(r[2]),i=n.div(e.web3.utils.toBN(10)),console.log(i),e.goldRatio=e.web3.utils.fromWei(i);case 8:case"end":return t.stop()}}),t)})))()}}},D=S,C=Object(b["a"])(D,r,n,!1,null,"e8b9aa12",null);t["default"]=C.exports}}]);
//# sourceMappingURL=chunk-48b2a19e.b52e8e92.js.map